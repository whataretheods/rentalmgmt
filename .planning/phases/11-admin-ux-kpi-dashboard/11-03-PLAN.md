---
phase: 11-admin-ux-kpi-dashboard
plan: 03
type: execute
wave: 2
depends_on: [11-01]
files_modified:
  - src/components/ui/empty-state.tsx
  - src/app/(admin)/admin/users/page.tsx
  - src/app/(admin)/admin/units/page.tsx
  - src/app/(admin)/admin/invites/page.tsx
  - src/app/(admin)/admin/payments/page.tsx
  - src/app/(admin)/admin/notifications/page.tsx
  - src/components/admin/MaintenanceKanban.tsx
  - src/components/admin/DocumentSubmissions.tsx
autonomous: true
requirements: [AUX-03]

must_haves:
  truths:
    - "Every admin table and list page shows a polished empty state when no data exists"
    - "Each empty state has a contextual title, description with guidance, and relevant icon"
    - "Empty states that have a logical next action show a CTA button linking to that action"
    - "Empty states look consistent across all admin pages (same component, same visual style)"
  artifacts:
    - path: "src/components/ui/empty-state.tsx"
      provides: "Enhanced reusable empty state component"
      min_lines: 20
    - path: "src/app/(admin)/admin/users/page.tsx"
      provides: "Users page with contextual empty state"
      contains: "EmptyState"
    - path: "src/app/(admin)/admin/units/page.tsx"
      provides: "Units page with contextual empty state"
      contains: "EmptyState"
  key_links:
    - from: "src/app/(admin)/admin/users/page.tsx"
      to: "src/components/ui/empty-state.tsx"
      via: "import EmptyState component"
      pattern: "EmptyState"
    - from: "src/app/(admin)/admin/units/page.tsx"
      to: "src/components/ui/empty-state.tsx"
      via: "import EmptyState component"
      pattern: "EmptyState"
---

<objective>
Add polished, contextual empty states to all admin table and list views.

Purpose: When no data exists on any admin page, users see helpful guidance about what the page does and what action to take next, instead of blank screens or generic "no data" messages.
Output: Enhanced EmptyState component and all admin pages updated with page-specific empty states.
</objective>

<execution_context>
@/Users/odesantos/.claude/get-shit-done/workflows/execute-plan.md
@/Users/odesantos/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/STATE.md
@.planning/ROADMAP.md
@src/components/ui/empty-state.tsx
@src/app/(admin)/admin/users/page.tsx
@src/app/(admin)/admin/units/page.tsx
@src/app/(admin)/admin/payments/page.tsx

<interfaces>
<!-- Current EmptyState component -->
From src/components/ui/empty-state.tsx:
```typescript
interface EmptyStateProps {
  icon?: LucideIcon
  title: string
  description?: string
  action?: React.ReactNode
}

export function EmptyState({ icon: Icon, title, description, action }: EmptyStateProps)
```

<!-- Current admin page patterns -->
Users page: server component, fetches users from db, passes to UserTable. No empty state.
Units page: server component, fetches units from db, renders HTML table. Has basic empty <tr> row.
Payments page: server component, fetches initialData via API, passes to PaymentDashboard. No empty state.
Invites page: server component, fetches units from db, passes to InviteManager. No empty state.
MaintenanceKanban.tsx: client component, fetches requests via API, renders kanban board. No empty state when 0 requests.
DocumentSubmissions.tsx: client component, fetches requests via API, renders table. Has basic "No document requests found." text.
Notifications page: client component, fetches via API. Has inline empty state (Bell icon + "No notifications yet").
Broadcast page: server component, wraps BroadcastForm. No list view -- no empty state needed.

<!-- Button component for CTA -->
From src/components/ui/button.tsx:
```typescript
export { Button, buttonVariants }
// Button accepts asChild prop for composition with Link
```
</interfaces>
</context>

<tasks>

<task type="auto">
  <name>Task 1: Enhance EmptyState component and update server-rendered admin pages</name>
  <files>
    src/components/ui/empty-state.tsx
    src/app/(admin)/admin/users/page.tsx
    src/app/(admin)/admin/units/page.tsx
    src/app/(admin)/admin/invites/page.tsx
  </files>
  <action>
**src/components/ui/empty-state.tsx** -- Enhance the existing component:
- Keep the existing interface and component signature unchanged (backward compatible)
- Increase the icon size: change `h-12 w-12` to `h-16 w-16` and add `stroke-[1.5]` for a lighter look
- Add a subtle background circle behind the icon: wrap icon in a `rounded-full bg-gray-50 p-4` container
- No "use client" directive needed -- it's a pure render component

**src/app/(admin)/admin/users/page.tsx** -- Add empty state:
- Import `EmptyState` from `@/components/ui/empty-state`, `Users` from lucide-react, `Button` from `@/components/ui/button`
- After the users query, check `users.length === 0`
- If empty, render below the page header:
```tsx
<EmptyState
  icon={Users}
  title="No tenants yet"
  description="Generate an invite code to onboard your first tenant. They'll create their account and be linked to their unit automatically."
  action={<Button asChild><Link href="/admin/invites">Generate Invite</Link></Button>}
/>
```
- Otherwise render the existing `UserTable` as before
- Keep the page header (h1 + description) visible in both states

**src/app/(admin)/admin/units/page.tsx** -- Replace inline empty row with EmptyState:
- Import `EmptyState` from `@/components/ui/empty-state`, `Building` from lucide-react
- Remove the existing inline empty `<tr>` (lines 61-66)
- Check `allUnits.length === 0` BEFORE the table
- If empty, render EmptyState instead of the entire table:
```tsx
<EmptyState
  icon={Building}
  title="No units configured"
  description="Add properties and units to start managing rent collection. Each unit can have its own rent amount and due date."
/>
```
- If units exist, render the existing table as-is

**src/app/(admin)/admin/invites/page.tsx** -- Add empty state:
- Import `EmptyState` from `@/components/ui/empty-state`, `Mail` from lucide-react
- Check `unitsWithStatus.length === 0`
- If empty, render:
```tsx
<EmptyState
  icon={Mail}
  title="No units available for invites"
  description="Create properties and units first, then you can generate invite codes for tenants."
/>
```
- Otherwise render the existing `InviteManager` as before
  </action>
  <verify>
    <automated>
      cd /Users/odesantos/Documents/rentalmgmt && npx tsc --noEmit src/components/ui/empty-state.tsx src/app/\(admin\)/admin/users/page.tsx src/app/\(admin\)/admin/units/page.tsx src/app/\(admin\)/admin/invites/page.tsx 2>&1 | head -20
    </automated>
  </verify>
  <done>EmptyState component enhanced with polished styling. Users page shows empty state with invite CTA. Units page shows empty state instead of empty table. Invites page shows empty state when no units exist.</done>
</task>

<task type="auto">
  <name>Task 2: Add empty states to client-rendered admin pages</name>
  <files>
    src/app/(admin)/admin/payments/page.tsx
    src/components/admin/MaintenanceKanban.tsx
    src/components/admin/DocumentSubmissions.tsx
    src/app/(admin)/admin/notifications/page.tsx
  </files>
  <action>
**src/app/(admin)/admin/payments/page.tsx** -- Add empty state in the server wrapper:
- Import `EmptyState` from `@/components/ui/empty-state`, `CreditCard` from lucide-react
- After the existing fetch of `initialData`, check `initialData.length === 0`
- If empty, render below the page header (h1 + description):
```tsx
<EmptyState
  icon={CreditCard}
  title="No payments recorded"
  description="Payments will appear here once tenants start paying rent online or you record manual payments."
/>
```
- If data exists, render the existing `PaymentDashboard` as before
- Keep the page header visible in both states

**src/components/admin/MaintenanceKanban.tsx** -- Add empty state after loading:
- Import `EmptyState` from `@/components/ui/empty-state`, `Wrench` from lucide-react
- After the loading check (line 123-129), add a check: `if (requests.length === 0)` return the empty state:
```tsx
if (requests.length === 0) {
  return (
    <EmptyState
      icon={Wrench}
      title="No maintenance requests"
      description="Maintenance requests from tenants will appear here. You can drag cards between columns to update their status."
    />
  )
}
```
- Place this AFTER the loading check and BEFORE the filter bar + kanban board render
- Keep the filter bar hidden when no requests exist (it's not useful with no data)

**src/components/admin/DocumentSubmissions.tsx** -- Replace basic empty text with EmptyState:
- Import `EmptyState` from `@/components/ui/empty-state`, `FileText` from lucide-react
- Find the line `<p className="text-sm text-gray-500">No document requests found.</p>` (line 87)
- Replace it with:
```tsx
<EmptyState
  icon={FileText}
  title="No documents submitted"
  description="Documents will appear here when tenants upload them or respond to your requests."
/>
```

**src/app/(admin)/admin/notifications/page.tsx** -- Replace inline empty state with shared component:
- Import `EmptyState` from `@/components/ui/empty-state` (Bell icon already imported)
- Find the inline empty state block (lines 161-164): `<div className="text-center py-12...">...</div>`
- Replace with:
```tsx
<EmptyState
  icon={Bell}
  title="No notifications yet"
  description="System notifications will appear here as payment activity, maintenance requests, and other events occur."
/>
```
  </action>
  <verify>
    <automated>
      cd /Users/odesantos/Documents/rentalmgmt && npx tsc --noEmit src/app/\(admin\)/admin/payments/page.tsx src/components/admin/MaintenanceKanban.tsx src/components/admin/DocumentSubmissions.tsx src/app/\(admin\)/admin/notifications/page.tsx 2>&1 | head -20
    </automated>
  </verify>
  <done>All admin pages with table/list views show contextual empty states using the shared EmptyState component. Payments page shows empty state when no data. MaintenanceKanban shows empty state when no requests. DocumentSubmissions shows empty state instead of plain text. Notifications page uses shared EmptyState component.</done>
</task>

</tasks>

<verification>
1. TypeScript compiles without errors: `npx tsc --noEmit`
2. Users page: when 0 users, shows EmptyState with "No tenants yet" and invite CTA
3. Units page: when 0 units, shows EmptyState instead of empty table
4. Payments page: when 0 payments data, shows EmptyState
5. Invites page: when 0 units, shows EmptyState
6. Maintenance kanban: when 0 requests, shows EmptyState instead of empty columns
7. Document submissions: when 0 submissions, shows EmptyState instead of plain text
8. Notifications page: uses shared EmptyState component
9. All empty states have consistent visual styling (same component)
10. Empty states include contextual descriptions guiding users to next action
</verification>

<success_criteria>
- Every admin table/list page renders a polished empty state when no data exists
- Empty states use the shared EmptyState component for visual consistency
- Each empty state has a unique, contextual title and description relevant to that page
- Pages with a clear next action (e.g., Users -> Generate Invite) include a CTA button
- Empty states do not flash or flicker -- they render correctly on initial load
</success_criteria>

<output>
After completion, create `.planning/phases/11-admin-ux-kpi-dashboard/11-03-SUMMARY.md`
</output>
